Subject: Enforce academic-only restriction in AI behavior (model-level rule)

Hi Replit Team,

The CMS-first logic and non-academic filter are working great.
Now I want to strengthen this by making the AI itself follow the academic-only restriction, even if the student tries to bypass it.

ğŸ¯ Requirement:

Ensure the AI model (GPT) never answers questions unrelated to academic or syllabus topics â€” even if the backend filter misses something.

If the student asks anything not related to the schoolâ€™s academic subjects (Physics, Chemistry, Biology, Math, English, Computer Science, Geography, History, etc.), the AI should respond politely and consistently with a restriction message.

ğŸ§© Implementation Plan
âœ… Step 1: Update System Prompt in backend/server.py

When generating the GPT prompt (in ai-engine/chat route), include this strict directive:

You are a School Academic Assistant.
You must only answer academic or syllabus-related questions (Physics, Chemistry, Biology, Math, English, Computer Science, Geography, History, etc.).
If a user asks a non-academic or personal question (e.g., sports, jokes, politics, entertainment, celebrities, general trivia), you must respond:
â€œSorry, I can only answer academic or syllabus-related questions. Please ask something from your subjects.â€

Do not provide any other response, even if the user insists or rephrases.

âœ… Step 2: Combine with Backend Filter

Keep the backend is_academic filter to block non-academic queries early.

If something slips through, GPT will still refuse internally due to the system prompt.

Together, these make a two-layer restriction:

Backend filter = blocks requests

AI prompt = enforces behavior

âœ… Step 3: Modify Response Structure

When GPT refuses due to the rule, tag the output:

{
  "source": "restricted",
  "message": "Non-academic question blocked by AI rule"
}


This helps track when the model itself blocked an answer.

ğŸ§  Example Scenarios
User Question	AI Response	Source
What is Ohmâ€™s Law?	â€œOhmâ€™s Law states that V = IRâ€¦â€	CMS
Who is Einstein?	â€œEinstein was a scientist known for relativityâ€¦â€	GPT
Tell me a joke	â€œSorry, I can only answer academic or syllabus-related questions.â€	Restricted
Who is Messi?	â€œSorry, I can only answer academic or syllabus-related questions.â€	Restricted
How to make cake?	â€œSorry, I can only answer academic or syllabus-related questions.â€	Restricted
âš™ï¸ Benefits

âœ… Prevents misuse of the AI Assistant
âœ… Keeps student focus on syllabus
âœ… Reduces token usage from off-topic queries
âœ… Ensures consistent, safe, and academic-only responses
âœ… Reinforces CMS-first approach

ğŸ” Optional (Recommended)

Add a Teacher/Admin Switch in Settings:

Toggle â€œAcademic-Only Modeâ€ ON/OFF

Default ON for students

OFF for teachers/admins

Thanks,
Farid (MaxTech BD)
â€œPlease ensure the AI strictly follows academic-only behavior at both backend and model level.â€